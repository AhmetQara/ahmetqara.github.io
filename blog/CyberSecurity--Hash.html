<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Hash</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Hash</h1><br/><br /> <strong><span style="color:#e01b24;">Hash Algoritması</span></strong><br /><br /> Sistemlerde bulunan password, keys vb. gibi korunması gerekilen özel bilgiler, belli başlı şifreleme algoritmalarıyla saklanırlar. Bu işleme hash denir.<br /> <br /> <strong>Wikipedia Tanımı:</strong><br /><br /><strong> </strong><strong><h2>SHA-1</h2></strong><br /> <br />  İngilizceden çevrilmiştir-Güvenli  Karma Algoritmalar, Ulusal Standartlar ve Teknoloji Enstitüsü  tarafından ABD Federal Bilgi İşleme Standardı olarak yayınlanan bir  şifreleme karma işlevleri ailesidir ve şunları içerir: SHA-0: 1993&#39;te &quot;SHA&quot; adı altında yayınlanan 160 bitlik karma işlevinin  orijinal sürümüne uygulanan bir retronym<br />  <br />  <a href="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2b/Cryptographic_Hash_Function.svg/1200px-Cryptographic_Hash_Function.svg.png"><img src="images/75-1.png" alt="images/75-1.png" /></a><br />  <br />  Linux de kullanılan MD5 ve SHA512 hash&#39;lerine örnekler;<br />  <br />  <img src="images/75-2.png" alt="images/75-2.png" /><br />  <br />  işaretli kısımda da görüldüğü üzere,  dolar işareti arasında ki sayı $1$ 1 ise MD5,  $6$ 6 ise SHA512 algoritması ile hash&#39;lendiğini anlıyoruz. <br />  <br />  <img src="images/75-3.png" alt="images/75-3.png" /><br />  <br />  $ işaretinden : işaretine kadar olan kısım hash kısmıdır.<br />  <br />  Buda windows da kullanılan LM ve NTLM algoritması ile oluşturulmuş bir hash örneği;<br />  <br />  <img src="images/75-4.png" alt="images/75-4.png" /><br />  <br />  NOT: Burada ki admin:500 kısmında bulunan 500 sayısı admin grubu demektir.<br />  NOT: LM daha eskidir, NTLM daha yeni ve güvenli bir algoritmadır. LM de şifre içinde küçük,büyük harfin bir değeri bir farkı yoktu ve 14 karakterden sonrasını hash&#39;lemiyordu buda bir güvenlik zaafiyeti oluşturuyordu. NTLM algoritmasında ise bir karakterin küçük harfle yazılması ayrı bir hash, büyük harf ise ayrı bir hash oluyor ve 14 karakter sınırı gibi bir kısıtlama yok.<br />  <br />  Eğer bir sisteme sızdıysak ve hash&#39;lenmiş verileri görmek istiyorsak “<span style="color:#e01b24;">hashdump</span>” komutunu kullanırız;<br />  <br />  <img src="images/75-5.png" alt="images/75-5.png" /><br />  <br />  <img src="images/75-6.png" alt="images/75-6.png" /> eğer bu şekilde bilinmeyen komut hatası alırsak da o zaman şunu deneriz;<br />  <br />  <img src="images/75-7.png" alt="images/75-7.png" /> bu bize information gathering elde edebileceğimiz bir scripti çalıştırır.<br />  <br />  <img src="images/75-8.png" alt="images/75-8.png" /><br />  <br />  Bu aynı zamanda windows içinde geçerlidir. Ele geçirilen cihaz windows ise yine “<span style="color:#e01b24;">hashdump</span>” komutu girilir, olmazsa bu sefer de “<span style="color:#e01b24;">run post/</span><strong><span style="color:#e01b24;">windows</span></strong><span style="color:#e01b24;">/gather/hashdump</span>” şeklinde “<span style="color:#e01b24;">post/</span>” kısmından sonra <strong><span style="color:#e01b24;">linux</span></strong> değilde <strong><span style="color:#e01b24;">windows</span></strong> yazarak çalıştırılır.<br />  <br />  <img src="images/75-9.png" alt="images/75-9.png" /><br />  <br />  Burada elde ettiğimiz hash&#39;leri kopyalayıp bir text dosyası içine kaydedebiliriz. Tabi text&#39;e kaydederken başında ki [+] kısımlarını siliyoruz;<br />  <br />  <img src="images/75-10.png" alt="images/75-10.png" /><br />  <br />  <strong><span style="color:#e01b24;">Linux&#39;de hash</span></strong><br />  <br />  Linux&#39;de hashler iki dosyada tutulur birisi “<span style="color:#e01b24;">/etc/passwd</span>” diğeri ise “<span style="color:#e01b24;">etc/shadow</span>” <br />  <br />  <img src="images/75-11.png" alt="images/75-11.png" /><br />  <br />  <img src="images/75-12.png" alt="images/75-12.png" /><br />  <br />  yani linux&#39;de hash iki parçadan oluşur. Bizim bu iki parçalı hash&#39;i birleştirip tek hale getirmemiz gerekiyor. İşte “<span style="color:#e01b24;">unshadow</span>”  komutu bu parçaları birleştirmeye yarıyor. “<span style="color:#e01b24;">unshadow</span>” yani gölgeyi kaldır.<br />  <br />  <span style="color:#e01b24;">unshadow</span> komutu kullanımı;<br />  <br />  <img src="images/75-13.png" alt="images/75-13.png" /><br />  <br />  bu komut sonucunda bize iki parçadan oluşan  “<span style="color:#e01b24;">/etc/passwd</span>” ve “<span style="color:#e01b24;">etc/shadow</span>” kısımları birleştirilecek ve sonuç bunun gibi bir şey olacak;<br />  <br />  <img src="images/75-14.png" alt="images/75-14.png" /> devamı...<br />  <br />  ...<img src="images/75-15.png" alt="images/75-15.png" /><br />  <br />  bu hash&#39;i de bir text dosyasına kaydediyoruz. <br />  <br />  Online olarak mesela windows&#39;da bir password oluşturduğumuzda onun hash&#39;i nasıl olacağını gösteren siteler var. tobtu.com da bunlardan biri. Bizim sanal windows makinamızda bulunan “Passw0rd!” şifresinin NTLM, LM ve PwDump yani bu iki hash&#39;in (NTLM ve LM) birleşimi de aşağıda görünüyor.<br />   <br />  <img src="images/75-16.png" alt="images/75-16.png" /><br />  <br />  <br />  <br />  </div>
</body>
</html>
